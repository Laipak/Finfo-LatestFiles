<?php $__env->startSection('title'); ?>
Customize
<?php $__env->stopSection(); ?>
<?php $__env->startSection('content'); ?>

<section class="content" id="setting">
	<div class="row head-search">
	    <div class="col-sm-6">
	        <lable class="label-title">Setting</lable>
	    </div>	    
	</div>
	

	 <?php if(Session::has('success')): ?>
    <div class="alert alert-success">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <?php echo e(Session::get('success')); ?>

    </div>
    <?php endif; ?>
	<?php echo Form::open(['url'=>'backend/admin/setting/change/', 'method' => 'post', 'files' => true, 'id' => 'frmsetting' ]); ?>


<div class="box">
    <div class="box-body">
	<div class="row">
		<div class="col-md-3">
			<h5>Background Color</h5>
			<div class="input-group bgcolor">						
				<input name="bgcolor" type="text" class="form-control" value="<?php echo e(isset($settings->background_color) ? $settings->background_color : ""); ?>" />
				<span class="input-group-addon"><i></i></span>
			</div>			
		</div>

		<div class="col-md-3">
		<h5>Content Color</h5>
			<div class="input-group cnt_color">								
				<input name="cnt_color" type="text" class="form-control" value="<?php echo e(isset($settings->container_color) ? $settings->container_color : ""); ?>" />
				<span class="input-group-addon"><i></i></span>				
			</div>
		</div>

		<div class="col-md-3">
		<h5>Theme Color</h5>
			<div class="input-group theme_color">									
				<input name="theme_color" type="text" class="form-control" value="<?php echo e(isset($settings->theme_color) ? $settings->theme_color : ""); ?>" />
				<span class="input-group-addon"><i></i></span>
			</div>
		</div>

	</div>
		<div class="row">
		
		</div>
	<div class="row">

		<div class="col-md-3">
		<h5>Font Color</h5>
			<div class="input-group font_color">									
				<input name="font_color" type="text" class="form-control" value="<?php echo e(isset($settings->font_color) ? $settings->font_color : ""); ?>" />
				<span class="input-group-addon"><i></i></span>
			</div>
		</div>

		<div class="col-md-3">
		<h5>Font Family</h5>
			<div class="input-group ">									
				<select name="font_family" id="" class="form-control">
                                        <option value="Open Sans, sans-serif" <?php echo e($setting->font_family == 'Open Sans, sans-serif'? "selected":""); ?>>Default (Open Sans, sans-serif)</option>
					<option value="Lato, sans-serif" <?php echo e($setting->font_family == 'Lato, sans-serif'? "selected":""); ?>>Lato, sans-serif</option>
					<option value="Source Sans Pro, sans-serif" <?php echo e($setting->font_family == 'Source Sans Pro, sans-serif'? "selected":""); ?>>Source Sans Pro, sans-serif</option>
				</select>
			</div>
		</div>

	</div>
<br>
<div class="row">
    <div class="col-md-6">
        <div class="form-group">
          <label for="comment">Google Analytic ID:</label>
          <input type="text" id="google_analytic" name="google_analytic" class="form-control" value='<?php echo e(isset($setting->google_analytic) ? $setting->google_analytic : ""); ?>'>
        </div>
    </div>
    <div class="col-md-6">
        <div class="form-group">
            <label for="comment">Image Banner </label> (Home Page) <a class='text-right text-red remove-banner-img' href='#' title="Remove"><i class="fa fa-trash-o fa-lg" style="color:red"></i></a>
            <div class="img-content"></div>
            <input type="file"  class="hidden" id="file_logo" name="logo">
            <input type="hidden" id="img_banner" name="img_banner" value="<?php echo e(isset($settings->banner_img) ? $settings->banner_img : ""); ?>">
            <div>Recommended Dimension (690px by 340px) </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-4 col-sm-6">
        <div class="form-group<?php echo e($errors->has('company_logo') ? ' has-error' : ''); ?>">
            <?php echo Form::label('company_logo', 'Company Logo'); ?> <a class='text-right text-red remove-company-logo remove-img' href='#' title="Remove"><i class="fa fa-trash-o fa-lg" style="color:red"></i></a>
            <div class="company-logo"></div>
            <input type="file"  class="hidden" id="file_company_logo" name="company_logo">
            <input type="hidden" id="company_logo" name="data_company_logo" value="<?php echo e(isset($data['company_logo']) ? $data['company_logo'] : ""); ?>">
            <div>Recommended Dimension (160px by 80px) </div>
            <?php echo $errors->first('company_logo', '<span class="help-block">:message</span>'); ?>

        </div>
    </div>
    <div class="col-md-4 col-sm-6">
        <div class="form-group<?php echo e($errors->has('favicon') ? ' has-error' : ''); ?>">
        <?php echo Form::label('favicon', 'Favicon (16px by 16px)'); ?> <a class='text-right text-red remove-company-favicon remove-img' href='#' title="Remove"><i class="fa fa-trash-o fa-lg" style="color:red"></i></a>
        <div class="favicon"></div>
        <input type="file"  class="hidden" id="file_favicon" name="file_favicon">
        <input type="hidden" id="favicon" name="favicon" value="<?php echo e(isset($data['favicon']) ? $data['favicon'] : ""); ?>">
        <?php echo $errors->first('favicon', '<span class="help-block">:message</span>'); ?>

    </div>
    </div>
</div>
<div class="row">
    <div class="col-md-4 col-sm-6">
        <div class="form-group">
            <?php echo Form::label('company_info', 'Company Info'); ?> <a class='text-right text-red remove-company-info remove-img' href='#' title="Remove"><i class="fa fa-trash-o fa-lg" style="color:red"></i></a>
            <div class="company-info"></div>
            <input type="file"  class="hidden" id="file_company_info" name="file_company_info">
            <input type="hidden" id="data_company_info" name="data_company_info" value="<?php echo e(isset($settings->company_info_img) ? $settings->company_info_img : ""); ?>">    
            <div>Recommended Dimension (341px by 285px) </div>
        </div>
    </div>
    <div class="col-md-4 col-sm-6">
        <div class="form-group">
            <?php echo Form::label('financials', 'Financials'); ?> <a class='text-right text-red remove-company-financial' href='#' title="Remove"><i class="fa fa-trash-o fa-lg" style="color:red"></i></a>
            <div class="financials"></div>
            <input type="file"  class="hidden" id="file_financials" name="file_financials">
            <input type="hidden" id="financials" name="financials" value="<?php echo e(isset($settings->financial_img) ? $settings->financial_img : ""); ?>">
            <div>Recommended Dimension (341px by 285px) </div>
        </div>
    </div>
</div>

<input type="hidden" name="setting_id" value="<?php echo e(isset($settings->id) ? $settings->id : ""); ?>">
	<div class="row">
		<div class="col-md-6">
			<button type="submit" class="btn btn-flat btn-save">Save</button>
		</div>			
	</div>
		</div>
	</div>
</form>
</section>
<?php $__env->stopSection(); ?>
<?php $__env->startSection('style'); ?>
  <link rel="stylesheet" type="text/css" href="<?php echo e(asset('backend/plugins/color_picker/css/bootstrap-colorpicker.min.css')); ?>">
  <style type="text/css">
	
	.form-control {
     	border-radius: none !important; 
	}
	.input-group-addon{
     padding: 0;
	}
	.colorpicker-element .input-group-addon i, .colorpicker-element .add-on i {
	    width: 41px;
	    height: 32px;
	}
	.img-content{
		min-width: 200px;
	    max-width: 250px;
	    min-height: 115px;
	    background-color: #F0F0F0;
	    cursor: pointer;
	    background-image: url("/img/uploader_text.png");
	    background-size: 50%;
	    background-repeat: no-repeat;
	    border-radius: 15px;
	    position: relative;
	    background-position: center -10px;
	}
        .company-info,
        .financials,
	.company-logo,
	.favicon {
		min-width: 200px;
	    max-width: 200px;
	    min-height: 115px;
	    background-color: #F0F0F0;
	    cursor: pointer;
	    background-image: url("/img/uploader_text.png");
	    background-size: 50%;
	    background-repeat: no-repeat;
	    border-radius: 15px;
	    position: relative;
	    background-position: center 6px;
	}
    .img-logo, .img-company-logo, .img-favicon,
    .img-file-financials
    {
        height: 115px;
        object-fit: cover;
    }

  </style>
<?php $__env->stopSection(); ?>

<?php $__env->startSection('script'); ?>
	<script src="<?php echo e(asset('backend/plugins/color_picker/js/bootstrap-colorpicker.min.js')); ?>"></script>
	<script>
                $('.active').removeClass('active');
                $('#setting').addClass('active');
		$(function(){
		    $('.color').colorpicker();
		    
		    var bodyStyle = '';
		    $('.bgcolor').colorpicker().on('changeColor.colorpicker', function(event){		    	
		  		bodyStyle.backgroundColor = event.color.toHex();// equal to $('body').css("background-color", event.color.toHex());
		  		
			});

			var themeColor = '';
		    $('.theme_color').colorpicker().on('changeColor.colorpicker', function(event){		    	
		  		themeColor.backgroundColor = event.color.toHex();		  		
			});

			var fontStyle = '';
		    $('.font_color').colorpicker().on('changeColor.colorpicker', function(event){		    	
		  		fontStyle.color = event.color.toHex();		  		
			});

			var containerColor = '';
		    $('.cnt_color').colorpicker().on('changeColor.colorpicker', function(event){		    	
		  		containerColor.backgroundColor = event.color.toHex();		  		
			});
// REMOVE IMAGES
   $(function(){
        $('.remove-banner-img').click(function(){
            $('#img_banner').val('');
            $('.img-content img').remove();
        });
        $('.remove-company-financial').click(function(){
           $('#financials').val('');
           $('.financials img').remove();
        });
        $('.remove-company-favicon').click(function(){
           $('#favicon').val('');
           $('.favicon img').remove();
        });
        $('.remove-company-info ').click(function(){
           $('#data_company_info').val('');
           $('.company-info img').remove();
        });
        $('.remove-company-logo ').click(function(){
           $('#company_logo').val('');
           $('.company-logo img').remove();
        });
   });              
// IMAGE COMPANY INFORMATION
    $('.company-info').click(function(){
        $('#file_company_info').click();
    });
    $("#file_company_info").on('change', function() {
        var file = this.files[0];
        var imagefile = file.type;
        var match = ["image/jpeg", "image/png", "image/jpg"];
        // validate file extension
        if (!((imagefile == match[0]) || (imagefile == match[1]) || (imagefile == match[2]))) {
            alert('Please select image file.');
            $('#file_financials').val('');
            return false;
        } else {
            var formData = new FormData($('#frmsetting')[0]);
            $.ajax({
                url: baseUrl + '/backend/admin/setting/upload/company-logo',
                processData: false,
                contentType: false,
                type: "POST",
                data: formData,
                success: function(data) {
                    console.log(data);
                    $('#data_company_info').val(data);
                    $('.company-info').html('<img src="/'+data+'" class="img-file-financials" style="width:100%;border-radius: 15px;" >');
                }
            });
        }
    });
    var img = $('#data_company_info').val();
    if(img != ""){
        $('.company-info').html('<img src="/'+img+'" class="img-logo" style="width:100%;border-radius: 15px;" >');
    }
// IMAGE FINANCIAL INFORMATION
    $('.financials').click(function(){
        $('#file_financials').click();
    });   
    $("#file_financials").on('change', function() {
        var file = this.files[0];
        var imagefile = file.type;
        var match = ["image/jpeg", "image/png", "image/jpg"];
        // validate file extension
        if (!((imagefile == match[0]) || (imagefile == match[1]) || (imagefile == match[2]))) {
            alert('Please select image file.');
            $('#file_financials').val('');
            return false;
        } else {
            var formData = new FormData($('#frmsetting')[0]);
            $.ajax({
                url: baseUrl + '/backend/admin/setting/upload/company-logo',
                processData: false,
                contentType: false,
                type: "POST",
                data: formData,
                success: function(data) {
                    console.log(data);
                    $('#financials').val(data);
                    $('.financials').html('<img src="/'+data+'" class="img-file-financials" style="width:100%;border-radius: 15px;" >');
                }
            });
        }
    });
    var img = $('#financials').val();
    if(img != ""){
        $('.financials').html('<img src="/'+img+'" class="img-logo" style="width:100%;border-radius: 15px;" >');
    }
// IMAGE BANNER ============================================>
		    $('.img-content').click(function(){
		    	$('#file_logo').click();
		    });

			$("#file_logo").on('change', function() {
			    var file = this.files[0];
			    var imagefile = file.type;

			    var match = ["image/jpeg", "image/png", "image/jpg"];
			    // validate file extension
			    if (!((imagefile == match[0]) || (imagefile == match[1]) || (imagefile == match[2]))) {
			        alert('Please select image file.');
			        $('#file_logo').val('');
			        return false;
			    } else {
			        var formData = new FormData($('#frmsetting')[0]);
			        $.ajax({
			            url: baseUrl + '/backend/admin/company/upload/logo',
			            processData: false,
			            contentType: false,
			            type: "POST",
			            data: formData,
			            success: function(data) {
			                console.log(data);
			                $('#img_banner').val(data);
			                $('.img-content').html('<img src="/'+data+'" class="img-logo" style="width:100%;border-radius: 15px;" >');
			            },
			        });
			    }
			});

			var img = $('#img_banner').val();

		    if(img != ""){
		        $('.img-content').html('<img src="/'+img+'" class="img-logo" style="width:100%;border-radius: 15px;" >');
		    }
// COMPANY LOGO ==========================================>
		    $('.company-logo').click(function(){
		    	$('#file_company_logo').click();
		    });
		    $("#file_company_logo").on('change', function() {
		    	var file = this.files[0];
			    var imagefile = file.type;
			    var match = ["image/jpeg", "image/png", "image/jpg"];
			    // validate file extension
			    if (!((imagefile == match[0]) || (imagefile == match[1]) || (imagefile == match[2]))) {
			        alert('Please select image file.');
			        $('#file_company_logo').val('');
			        return false;
			    } else {
			    	var formData = new FormData($('#frmsetting')[0]);
			    	$.ajax({
			            url: baseUrl + '/backend/admin/setting/upload/logo',
			            processData: false,
			            contentType: false,
			            type: "POST",
			            data: formData,
			            success: function(data) {
			                console.log(data);
			                $('#company_logo').val(data);
			                $('.company-logo').html('<img src="/'+data+'" class="img-company-logo" style="width:100%;border-radius: 15px;" >');
			            },error: function(data){
						    alert("Fail" + imagefile+data);
						}
			        });
			    }
		    });
		    var logo = $('#company_logo').val();
		    if(logo != ""){
	            $('.company-logo').html('<img src="/'+logo+'" class="img-company-logo" style="width:100%;position: absolute; margin: auto;top: 0;left: 0;right: 0;bottom: 0;" >');
	        }
// FAVERITE ICON =========================================>
			$('.favicon').click(function(){
		    	$('#file_favicon').click();
		    });
		    $("#file_favicon").on('change', function() {
			    var file = this.files[0];
			    var imagefile = file.type;
			    //var match = ["image/jpeg", "image/png", "image/jpg", "image/x-icon"]; UNCOMMAN WHEN ALL JPG/PNG
			    var match = ["image/x-icon"];

			    // validate file extension
			    //if (!((imagefile == match[0]) || (imagefile == match[1]) || (imagefile == match[2]) || (imagefile == match[3]) )) { //UNCOMMAN WHEN ALL JPG/PNG
		    	if (imagefile != match[0]) {
			        alert('Please select ico extension file image .');
			        $('#file_favicon').val('');
			        return false;
			    } else {
			        var formData = new FormData($('#frmsetting')[0]);
			        $.ajax({
			            url: baseUrl + '/backend/admin/setting/upload/favicon',
			            processData: false,
			            contentType: false,
			            type: "POST",
			            data: formData,
			            success: function(data) {
			                $('#favicon').val(data);
			                $('.favicon').html('<img src="/'+data+'" class="img-favicon" style="width:100%;position: absolute; margin: auto;top: 0;left: 0;right: 0;bottom: 0;" >');
			            },
			            error:function($data){
			                console.log(imagefile+ "error ");
			            }
			        });
			    }
			});
			var favicon = $('#favicon').val();
			if(favicon != ""){
	            $('.favicon').html('<img src="/'+favicon+'" class="img-favicon" style="width:100%;position: absolute; margin: auto;top: 0;left: 0;right: 0;bottom: 0;" >');
	        }
		});
	</script>
<?php $__env->stopSection(); ?>
<?php echo $__env->make($app_template['client.backend'], array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>